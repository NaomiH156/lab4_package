<launch>
	<arg name = "use_xacro" default="false"/>

	<arg if="$(arg use_xacro)" name = "filename" default = "robot_xacro.xacro"/>
	<arg unless="$(arg use_xacro)" name = "filename" default = "urdf_from_xacro.urdf"/>

	<arg name = "file" default = "$(find lab4_package)/urdf/$(arg filename)" />

	<param if = "$(arg use_xacro)" name="robot_description" command = "$(find xacro)/xacro.py --inorder $(arg file)" />
	<param else="$(arg use_xacro)" name = "robot_description" textfile="$(arg file)" />

	<node pkg = "robot_state_publisher" type = "robot_state_publisher" name = "robot_state_publisher" />

	<node pkg = "rviz" type="rviz" name = "rviz" args="-d $(find lab4_package)/config/config.rviz" required = "true" />

</launch>